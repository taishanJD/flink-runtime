package com.quark.datastream.runtime.task.ml_svm;

import com.google.gson.Gson;
import com.quark.datastream.runtime.task.DataSet;
import com.quark.datastream.runtime.task.TaskNodeParam;
import org.junit.Assert;
import org.junit.Test;

import java.util.*;


public class SingleClassificationNodeTest {

    String sv = "1.0 1:0.708333 2:1.0 3:1.0 4:-0.320755 5:-0.105023 6:-1.0 7:1.0 8:-0.419847 9:-1.0 10:-0.225806 12:1.0 13:-1.0 \n" +
            "1.0 1:0.583333 2:-1.0 3:0.333333 4:-0.603774 5:1.0 6:-1.0 7:1.0 8:0.358779 9:-1.0 10:-0.483871 12:-1.0 13:1.0 \n" +
            "1.0 1:0.875 2:-1.0 3:-0.333333 4:-0.509434 5:-0.347032 6:-1.0 7:1.0 8:-0.236641 9:1.0 10:-0.935484 11:-1.0 12:-0.333333 13:-1.0 \n" +
            "0.15367610878433888 1:0.5 2:1.0 3:1.0 4:-0.509434 5:-0.767123 6:-1.0 7:-1.0 8:0.0534351 9:-1.0 10:-0.870968 11:-1.0 12:-1.0 13:1.0 \n" +
            "1.0 1:0.416667 2:-1.0 3:1.0 4:0.0566038 5:0.283105 6:-1.0 7:1.0 8:0.267176 9:-1.0 10:0.290323 12:1.0 13:1.0 \n" +
            "1.0 2:1.0 3:1.0 4:-0.0943396 5:-0.543379 6:-1.0 7:1.0 8:-0.389313 9:1.0 10:-1.0 11:-1.0 12:-1.0 13:1.0 \n" +
            "1.0 1:0.333333 2:1.0 3:-1.0 4:-0.245283 5:-0.506849 6:-1.0 7:-1.0 8:0.129771 9:-1.0 10:-0.16129 12:0.333333 13:-1.0 \n" +
            "1.0 1:0.75 2:-1.0 3:1.0 4:-0.660377 5:-0.894977 6:-1.0 7:-1.0 8:-0.175573 9:-1.0 10:-0.483871 12:-1.0 13:-1.0 \n" +
            "1.0 1:-0.291667 2:1.0 3:1.0 4:-0.132075 5:-0.155251 6:-1.0 7:-1.0 8:-0.251908 9:1.0 10:-0.419355 12:0.333333 13:1.0 \n" +
            "1.0 2:1.0 3:1.0 4:-0.132075 5:-0.648402 6:1.0 7:1.0 8:0.282443 9:1.0 11:1.0 12:-1.0 13:1.0 \n" +
            "1.0 1:0.458333 2:1.0 3:-1.0 4:-0.698113 5:-0.611872 6:-1.0 7:1.0 8:0.114504 9:1.0 10:-0.419355 12:-1.0 13:-1.0 \n" +
            "1.0 1:-0.541667 2:1.0 3:-1.0 4:-0.132075 5:-0.666667 6:-1.0 7:-1.0 8:0.633588 9:1.0 10:-0.548387 11:-1.0 12:-1.0 13:1.0 \n" +
            "1.0 1:0.0416667 2:-1.0 3:-0.333333 4:-0.283019 5:-0.260274 6:1.0 7:1.0 8:0.343511 9:1.0 10:-1.0 11:-1.0 12:-0.333333 13:-1.0 \n" +
            "1.0 1:-0.291667 2:-1.0 3:1.0 4:-0.169811 5:-0.465753 6:-1.0 7:1.0 8:0.236641 9:1.0 10:-1.0 12:-1.0 13:-1.0 \n" +
            "1.0 1:0.75 2:-1.0 3:0.333333 4:-0.698113 5:-0.365297 6:1.0 7:1.0 8:-0.0992366 9:-1.0 10:-1.0 11:-1.0 12:-0.333333 13:-1.0 \n" +
            "0.05839535146290979 1:-0.666667 2:-1.0 3:0.333333 4:-0.509434 5:-0.593607 6:-1.0 7:-1.0 8:0.51145 9:-1.0 10:-1.0 11:-1.0 12:-1.0 13:-1.0 \n" +
            "1.0 1:0.25 2:1.0 3:1.0 4:0.433962 5:-0.086758 6:-1.0 7:1.0 8:0.0534351 9:1.0 10:0.0967742 11:1.0 12:-1.0 13:1.0 \n" +
            "1.0 1:-0.208333 2:1.0 3:1.0 4:-0.320755 5:-0.406393 6:1.0 7:1.0 8:0.206107 9:1.0 10:-1.0 11:-1.0 12:0.333333 13:1.0 \n" +
            "1.0 1:0.25 2:1.0 3:-1.0 4:0.245283 5:-0.328767 6:-1.0 7:1.0 8:-0.175573 9:-1.0 10:-1.0 11:-1.0 12:-1.0 13:-1.0 \n" +
            "1.0 1:-0.541667 2:1.0 3:1.0 4:0.0943396 5:-0.557078 6:-1.0 7:-1.0 8:0.679389 9:-1.0 10:-1.0 11:-1.0 12:-1.0 13:1.0 \n" +
            "0.1459333386504293 1:-0.375 2:1.0 3:0.333333 4:-0.320755 5:-0.511416 6:-1.0 7:-1.0 8:0.648855 9:1.0 10:-0.870968 11:-1.0 12:-1.0 13:-1.0 \n" +
            "1.0 1:-0.291667 2:1.0 3:-0.333333 4:-0.867925 5:-0.675799 6:1.0 7:-1.0 8:0.29771 9:-1.0 10:-1.0 11:-1.0 12:-1.0 13:1.0 \n" +
            "1.0 1:0.208333 2:1.0 3:0.333333 4:-0.132075 5:-0.611872 6:1.0 7:1.0 8:0.435115 9:-1.0 10:-1.0 11:-1.0 12:-1.0 13:-1.0 \n" +
            "1.0 1:-0.166667 2:1.0 3:0.333333 4:-0.54717 5:-0.894977 6:-1.0 7:1.0 8:-0.160305 9:-1.0 10:-0.741935 11:-1.0 12:1.0 13:-1.0 \n" +
            "1.0 1:0.541667 2:1.0 3:-0.333333 4:0.245283 5:-0.452055 6:-1.0 7:-1.0 8:-0.251908 9:1.0 10:-1.0 12:1.0 13:0.5 \n" +
            "1.0 1:0.5 2:-1.0 3:1.0 4:0.0566038 5:-0.547945 6:-1.0 7:1.0 8:-0.343511 9:-1.0 10:-0.677419 12:1.0 13:1.0 \n" +
            "1.0 1:-0.0416667 2:1.0 3:-0.333333 4:-0.358491 5:-0.639269 6:1.0 7:-1.0 8:0.725191 9:-1.0 10:-1.0 11:-1.0 12:-1.0 13:-1.0 \n" +
            "1.0 1:0.5 2:-1.0 3:0.333333 4:-0.132075 5:0.328767 6:1.0 7:1.0 8:0.312977 9:-1.0 10:-0.741935 11:-1.0 12:-0.333333 13:-1.0 \n" +
            "1.0 1:0.416667 2:-1.0 3:-0.333333 4:-0.132075 5:-0.684932 6:-1.0 7:-1.0 8:0.648855 9:-1.0 10:-1.0 11:-1.0 12:0.333333 13:-1.0 \n" +
            "1.0 1:-0.5 2:-1.0 3:-0.333333 4:-0.792453 5:-0.671233 6:-1.0 7:-1.0 8:0.480916 9:-1.0 10:-1.0 11:-1.0 12:-0.333333 13:-1.0 \n" +
            "1.0 1:0.291667 2:-1.0 3:0.333333 4:-0.509434 5:-0.762557 6:1.0 7:-1.0 8:-0.618321 9:-1.0 10:-1.0 11:-1.0 12:-1.0 13:-1.0 \n" +
            "1.0 1:0.25 2:-1.0 3:1.0 4:0.509434 5:-0.438356 6:-1.0 7:-1.0 8:0.0992366 9:1.0 10:-1.0 12:-1.0 13:-1.0 \n" +
            "1.0 1:0.166667 2:1.0 3:0.333333 4:0.0566038 5:-1.0 6:1.0 7:-1.0 8:0.557252 9:-1.0 10:-0.935484 11:-1.0 12:-0.333333 13:1.0 \n" +
            "1.0 1:-0.0833333 2:-1.0 3:1.0 4:-0.320755 5:-0.182648 6:-1.0 7:-1.0 8:0.0839695 9:1.0 10:-0.612903 12:-1.0 13:1.0 \n" +
            "1.0 1:0.291667 2:-1.0 3:-1.0 4:0.0566038 5:-0.479452 6:-1.0 7:-1.0 8:0.526718 9:-1.0 10:-0.709677 11:-1.0 12:-1.0 13:-1.0 \n" +
            "1.0 1:0.416667 2:1.0 3:-1.0 4:-0.0377358 5:-0.511416 6:1.0 7:1.0 8:0.206107 9:-1.0 10:-0.258065 11:1.0 12:-1.0 13:0.5 \n" +
            "1.0 1:-0.0833333 2:1.0 3:1.0 4:-0.132075 5:-0.383562 6:-1.0 7:1.0 8:0.755725 9:1.0 10:-1.0 11:-1.0 12:-1.0 13:-1.0 \n" +
            "1.0 1:0.208333 2:-1.0 3:-0.333333 4:-0.207547 5:-0.118721 6:1.0 7:1.0 8:0.236641 9:-1.0 10:-1.0 11:-1.0 12:0.333333 13:-1.0 \n" +
            "1.0 1:0.166667 2:-1.0 3:1.0 4:-0.509434 5:0.0410959 6:-1.0 7:-1.0 8:0.40458 9:1.0 10:-0.806452 11:-1.0 12:-1.0 13:-1.0 \n" +
            "1.0 1:0.583333 2:-1.0 3:1.0 4:-0.773585 5:-0.557078 6:-1.0 7:-1.0 8:0.0839695 9:-1.0 10:-0.903226 11:-1.0 12:0.333333 13:-1.0 \n" +
            "1.0 1:-0.333333 2:1.0 3:1.0 4:-0.0943396 5:-0.164384 6:-1.0 7:1.0 8:0.160305 9:1.0 10:-1.0 12:1.0 13:1.0 \n" +
            "1.0 1:-0.333333 2:1.0 3:1.0 4:-0.811321 5:-0.625571 6:-1.0 7:1.0 8:0.175573 9:1.0 10:-0.0322581 12:-1.0 13:-1.0 \n" +
            "1.0 1:-0.583333 2:-1.0 3:0.333333 4:-1.0 5:-0.666667 6:-1.0 7:-1.0 8:0.648855 9:-1.0 10:-1.0 11:-1.0 12:-1.0 13:-1.0 \n" +
            "1.0 1:-0.75 2:1.0 3:1.0 4:-0.509434 5:-0.671233 6:-1.0 7:-1.0 8:-0.0992366 9:1.0 10:-0.483871 12:-1.0 13:1.0 \n" +
            "1.0 1:0.208333 2:1.0 3:1.0 4:0.0566038 5:-0.342466 6:-1.0 7:1.0 8:-0.389313 9:1.0 10:-0.741935 11:-1.0 12:-1.0 13:1.0 \n" +
            "1.0 1:-0.458333 2:1.0 3:-1.0 4:0.0188679 5:-0.461187 6:-1.0 7:1.0 8:0.633588 9:-1.0 10:-0.741935 11:-1.0 12:0.333333 13:-1.0 \n" +
            "1.0 1:0.375 2:1.0 3:-0.333333 4:-0.358491 5:-0.625571 6:1.0 7:1.0 8:0.0534351 9:-1.0 10:-1.0 11:-1.0 12:-1.0 13:-1.0 \n" +
            "1.0 1:0.25 2:1.0 3:-1.0 4:0.584906 5:-0.342466 6:-1.0 7:1.0 8:0.129771 9:-1.0 10:0.354839 11:1.0 12:-1.0 13:1.0 \n" +
            "1.0 1:-0.5 2:-1.0 3:-0.333333 4:-0.396226 5:-0.178082 6:-1.0 7:-1.0 8:0.40458 9:-1.0 10:-1.0 11:-1.0 12:-1.0 13:-1.0 \n" +
            "1.0 1:0.25 2:1.0 3:-0.333333 4:-0.132075 5:-0.56621 6:-1.0 7:-1.0 8:0.419847 9:1.0 10:-1.0 11:-1.0 12:-1.0 13:-1.0 \n" +
            "1.0 1:0.333333 2:-1.0 3:1.0 4:-0.320755 5:-0.0684932 6:-1.0 7:1.0 8:0.496183 9:-1.0 10:-1.0 11:-1.0 12:-1.0 13:-1.0 \n" +
            "1.0 1:0.458333 2:-1.0 3:0.333333 4:-0.132075 5:-0.146119 6:-1.0 7:-1.0 8:-0.0534351 9:-1.0 10:-0.935484 11:-1.0 12:-1.0 13:1.0 \n" +
            "1.0 1:0.583333 2:1.0 3:1.0 4:-0.509434 5:-0.493151 6:-1.0 7:-1.0 8:-1.0 9:-1.0 10:-0.677419 12:-1.0 13:-1.0 \n" +
            "1.0 1:0.166667 2:1.0 3:1.0 4:0.339623 5:-0.255708 6:1.0 7:1.0 8:-0.19084 9:-1.0 10:-0.677419 12:1.0 13:1.0 \n" +
            "1.0 1:0.291667 2:-1.0 3:1.0 4:0.0566038 5:-0.39726 6:-1.0 7:1.0 8:0.312977 9:-1.0 10:-0.16129 12:0.333333 13:1.0 \n" +
            "1.0 1:-0.333333 2:-1.0 3:-0.333333 4:-0.660377 5:-0.844749 6:-1.0 7:-1.0 8:0.0229008 9:-1.0 10:-1.0 12:-1.0 13:-1.0 \n" +
            "1.0 1:0.0833333 2:-1.0 3:1.0 4:0.622642 5:-0.0821918 6:-1.0 8:-0.29771 9:1.0 10:0.0967742 12:-1.0 13:-1.0 \n" +
            "1.0 1:0.291667 2:-1.0 3:1.0 4:0.207547 5:-0.182648 6:-1.0 7:1.0 8:0.374046 9:-1.0 10:-1.0 11:-1.0 12:-1.0 13:-1.0 \n" +
            "1.0 1:0.0416667 2:-1.0 3:0.333333 4:-0.226415 5:-0.187215 6:1.0 7:-1.0 8:0.51145 9:-1.0 10:-1.0 11:-1.0 12:-1.0 13:-1.0 \n" +
            "1.0 1:0.125 2:-1.0 3:1.0 4:1.0 5:-0.260274 6:1.0 7:1.0 8:-0.0534351 9:1.0 10:0.290323 11:1.0 12:0.333333 13:1.0 \n" +
            "1.0 1:0.541667 2:-1.0 3:-1.0 4:0.0566038 5:-0.543379 6:-1.0 7:-1.0 8:-0.343511 9:-1.0 10:-0.16129 11:1.0 12:-1.0 13:-1.0 \n" +
            "1.0 1:0.125 2:1.0 3:1.0 4:-0.320755 5:-0.283105 6:1.0 7:1.0 8:-0.51145 9:1.0 10:-0.483871 11:1.0 12:-1.0 13:1.0 \n" +
            "1.0 1:-0.166667 2:1.0 3:0.333333 4:-0.509434 5:-0.716895 6:-1.0 7:-1.0 8:0.0381679 9:-1.0 10:-0.354839 12:1.0 13:1.0 \n" +
            "1.0 1:0.0416667 2:1.0 3:1.0 4:-0.471698 5:-0.269406 6:-1.0 7:1.0 8:-0.312977 9:1.0 10:0.0322581 12:0.333333 13:-1.0 \n" +
            "0.4338022110150991 1:0.166667 2:1.0 3:1.0 4:0.0943396 5:-0.324201 6:-1.0 7:-1.0 8:-0.740458 9:1.0 10:-0.612903 12:-0.333333 13:1.0 \n" +
            "1.0 1:0.375 2:1.0 3:1.0 4:-0.509434 5:-0.356164 6:-1.0 7:-1.0 8:-0.572519 9:1.0 10:-0.419355 12:0.333333 13:1.0 \n" +
            "1.0 1:0.291667 2:1.0 3:1.0 4:-0.566038 5:-0.525114 6:1.0 7:-1.0 8:0.358779 9:1.0 10:-0.548387 11:-1.0 12:0.333333 13:1.0 \n" +
            "1.0 1:0.416667 2:-1.0 3:1.0 4:-0.735849 5:-0.347032 6:-1.0 7:-1.0 8:0.496183 9:1.0 10:-0.419355 12:0.333333 13:-1.0 \n" +
            "1.0 1:0.458333 2:1.0 3:1.0 4:-0.509434 5:-0.452055 6:-1.0 7:1.0 8:-0.618321 9:1.0 10:-0.290323 11:1.0 12:-0.333333 13:-1.0 \n" +
            "1.0 1:-0.291667 2:-1.0 3:0.333333 4:-0.0943396 5:-0.767123 6:-1.0 7:1.0 8:0.358779 9:1.0 10:-0.548387 11:1.0 12:-1.0 13:-1.0 \n" +
            "1.0 1:0.125 2:1.0 3:1.0 4:-0.415094 5:-0.438356 6:1.0 7:1.0 8:0.114504 9:1.0 10:-0.612903 12:-0.333333 13:-1.0 \n" +
            "1.0 1:-0.791667 2:-1.0 3:-0.333333 4:-0.54717 5:-0.616438 6:-1.0 7:-1.0 8:0.847328 9:-1.0 10:-0.774194 11:-1.0 12:-1.0 13:-1.0 \n" +
            "1.0 1:0.166667 2:1.0 3:1.0 4:-0.283019 5:-0.630137 6:-1.0 7:-1.0 8:0.480916 9:1.0 10:-1.0 11:-1.0 12:-1.0 13:1.0 \n" +
            "1.0 1:-0.0833333 2:1.0 3:-1.0 4:-0.415094 5:-0.60274 6:-1.0 7:1.0 8:-0.175573 9:1.0 10:-0.548387 11:-1.0 12:-0.333333 13:-1.0 \n" +
            "1.0 1:0.0416667 2:1.0 3:-0.333333 4:0.849057 5:-0.283105 6:-1.0 7:1.0 8:0.89313 9:-1.0 10:-1.0 11:-1.0 12:-0.333333 13:1.0 \n" +
            "1.0 2:1.0 3:1.0 4:-0.45283 5:-0.287671 6:-1.0 7:-1.0 8:-0.633588 9:1.0 10:-0.354839 12:0.333333 13:1.0 \n" +
            "1.0 1:-0.541667 2:1.0 3:1.0 4:-0.698113 5:-0.812785 6:-1.0 7:1.0 8:-0.343511 9:1.0 10:-0.354839 12:-1.0 13:1.0 \n" +
            "1.0 1:-0.5 2:-1.0 3:0.333333 4:-0.660377 5:-0.351598 6:-1.0 7:1.0 8:0.541985 9:1.0 10:-1.0 11:-1.0 12:-1.0 13:-1.0 \n" +
            "1.0 1:0.458333 2:-1.0 3:1.0 4:-0.320755 5:-0.191781 6:-1.0 7:-1.0 8:-0.221374 9:-1.0 10:-0.354839 12:0.333333 13:-1.0 \n" +
            "1.0 1:-0.291667 2:-1.0 3:-0.333333 4:-0.792453 5:-0.643836 6:-1.0 7:-1.0 8:0.541985 9:-1.0 10:-1.0 11:-1.0 12:-1.0 13:-1.0 \n" +
            "1.0 1:0.0833333 2:1.0 3:1.0 4:-0.132075 5:-0.584475 6:-1.0 7:-1.0 8:-0.389313 9:1.0 10:0.806452 11:1.0 12:-1.0 13:1.0 \n" +
            "1.0 1:0.125 2:1.0 3:-1.0 4:-0.509434 5:-0.694064 6:-1.0 7:1.0 8:0.389313 9:-1.0 10:-0.387097 12:-1.0 13:1.0 \n" +
            "1.0 1:0.541667 2:-1.0 3:1.0 4:0.584906 5:-0.534247 6:1.0 7:-1.0 8:0.435115 9:1.0 10:-0.677419 12:0.333333 13:1.0 \n" +
            "1.0 1:-0.625 2:1.0 3:-1.0 4:-0.509434 5:-0.520548 6:-1.0 7:-1.0 8:0.694656 9:1.0 10:0.225806 12:-1.0 13:1.0 \n" +
            "1.0 1:0.375 2:-1.0 3:1.0 4:0.0566038 5:-0.461187 6:-1.0 7:-1.0 8:0.267176 9:1.0 10:-0.548387 12:-1.0 13:-1.0 \n" +
            "1.0 1:-0.416667 2:1.0 3:1.0 4:-0.698113 5:-0.611872 6:-1.0 7:-1.0 8:0.374046 9:-1.0 10:-1.0 11:-1.0 12:-1.0 13:1.0 \n" +
            "1.0 1:0.458333 2:-1.0 3:1.0 4:0.622642 5:-0.0913242 6:-1.0 7:-1.0 8:0.267176 9:1.0 10:-1.0 11:-1.0 12:-1.0 13:-1.0 \n" +
            "0.39192409650035376 1:-0.125 2:-1.0 3:1.0 4:-0.698113 5:-0.415525 6:-1.0 7:1.0 8:0.343511 9:-1.0 10:-1.0 11:-1.0 12:-1.0 13:-1.0 \n" +
            "1.0 2:1.0 3:0.333333 4:-0.320755 5:-0.675799 6:1.0 7:1.0 8:0.236641 9:-1.0 10:-0.612903 11:1.0 12:-1.0 13:-1.0 \n" +
            "1.0 1:-0.333333 2:-1.0 3:1.0 4:-0.169811 5:-0.497717 6:-1.0 7:1.0 8:0.236641 9:1.0 10:-0.935484 12:-1.0 13:-1.0 \n" +
            "1.0 1:0.5 2:1.0 3:-1.0 4:-0.169811 5:-0.287671 6:1.0 7:1.0 8:0.572519 9:-1.0 10:-0.548387 12:-0.333333 13:-1.0 \n" +
            "1.0 1:0.666667 2:1.0 3:-1.0 4:0.245283 5:-0.506849 6:1.0 7:1.0 8:-0.0839695 9:-1.0 10:-0.967742 12:-0.333333 13:-1.0 \n" +
            "1.0 1:0.666667 2:1.0 3:0.333333 4:-0.132075 5:-0.415525 6:-1.0 7:1.0 8:0.145038 9:-1.0 10:-0.354839 12:1.0 13:1.0 \n" +
            "1.0 1:0.583333 2:1.0 3:1.0 4:-0.886792 5:-0.210046 6:-1.0 7:1.0 8:-0.175573 9:1.0 10:-0.709677 12:0.333333 13:-1.0 \n" +
            "1.0 1:-0.791667 2:1.0 3:-1.0 4:-0.54717 5:-0.744292 6:-1.0 7:1.0 8:0.572519 9:-1.0 10:-1.0 11:-1.0 12:-1.0 13:-1.0 \n" +
            "1.0 1:0.375 2:-1.0 3:1.0 4:-0.169811 5:-0.232877 6:1.0 7:-1.0 8:-0.465649 9:-1.0 10:-0.387097 12:1.0 13:-1.0 \n" +
            "1.0 1:-0.0833333 2:1.0 3:1.0 4:-0.132075 5:-0.214612 6:-1.0 7:-1.0 8:-0.221374 9:1.0 10:0.354839 12:1.0 13:1.0 \n" +
            "1.0 1:0.583333 2:1.0 3:1.0 4:-0.415094 5:-0.415525 6:1.0 7:-1.0 8:0.40458 9:-1.0 10:-0.935484 12:0.333333 13:1.0 \n" +
            "1.0 1:-0.458333 2:1.0 3:0.333333 4:-0.509434 5:-0.479452 6:1.0 7:-1.0 8:0.877863 9:-1.0 10:-0.741935 11:1.0 12:-1.0 13:1.0 \n" +
            "1.0 1:0.125 2:-1.0 3:1.0 4:-0.245283 5:0.292237 6:-1.0 7:1.0 8:0.206107 9:1.0 10:-0.387097 12:0.333333 13:1.0 \n" +
            "1.0 1:-0.5 2:1.0 3:1.0 4:-0.698113 5:-0.789954 6:-1.0 7:1.0 8:0.328244 9:-1.0 10:-1.0 11:-1.0 12:-1.0 13:1.0 \n" +
            "1.0 1:-0.458333 2:-1.0 3:1.0 4:-0.849057 5:-0.365297 6:-1.0 7:1.0 8:-0.221374 9:-1.0 10:-0.806452 12:-1.0 13:-1.0 \n" +
            "1.0 2:1.0 3:0.333333 4:-0.320755 5:-0.452055 6:1.0 7:1.0 8:0.557252 9:-1.0 10:-1.0 11:-1.0 12:1.0 13:-1.0 \n" +
            "1.0 1:-0.0416667 2:1.0 3:1.0 4:-0.735849 5:-0.511416 6:1.0 7:-1.0 8:0.160305 9:-1.0 10:-0.967742 11:-1.0 12:1.0 13:1.0 \n" +
            "0.8942364013116315 1:0.708333 2:1.0 3:0.333333 4:0.245283 5:-0.347032 6:-1.0 7:-1.0 8:-0.374046 9:1.0 10:-0.0645161 12:-0.333333 13:1.0 \n" +
            "1.0 1:0.708333 2:1.0 3:1.0 4:-0.0377358 5:-0.780822 6:-1.0 7:-1.0 8:-0.175573 9:1.0 10:-0.16129 11:1.0 12:-1.0 13:1.0 \n" +
            "0.39056760982207867 1:0.0416667 2:1.0 3:-0.333333 4:-0.735849 5:-0.164384 6:-1.0 7:-1.0 8:0.29771 9:-1.0 10:-1.0 11:-1.0 12:-1.0 13:1.0 \n" +
            "1.0 1:-0.75 2:1.0 3:1.0 4:-0.396226 5:-0.287671 6:-1.0 7:1.0 8:0.29771 9:1.0 10:-1.0 11:-1.0 12:-1.0 13:1.0 \n" +
            "1.0 1:-0.208333 2:1.0 3:0.333333 4:-0.433962 5:-0.410959 6:1.0 7:-1.0 8:0.587786 9:-1.0 10:-1.0 11:-1.0 12:0.333333 13:-1.0 \n" +
            "0.750477734697083 1:0.208333 2:-1.0 3:1.0 4:-0.886792 5:-0.442922 6:-1.0 7:1.0 8:-0.221374 9:-1.0 10:-0.677419 12:-1.0 13:-1.0 \n" +
            "1.0 1:0.666667 2:-1.0 3:-1.0 4:-0.132075 5:-0.484018 6:-1.0 7:-1.0 8:0.221374 9:-1.0 10:-0.419355 11:-1.0 12:0.333333 13:-1.0 \n" +
            "1.0 1:1.0 2:1.0 3:1.0 4:-0.415094 5:-0.187215 6:-1.0 7:1.0 8:0.389313 9:1.0 10:-1.0 11:-1.0 12:1.0 13:-1.0 \n" +
            "0.8536229933706004 1:0.208333 2:1.0 3:1.0 4:-0.415094 5:-0.205479 6:-1.0 7:1.0 8:0.526718 9:-1.0 10:-1.0 11:-1.0 12:0.333333 13:1.0 \n" +
            "1.0 1:-0.0833333 2:1.0 3:1.0 4:-0.132075 5:-0.210046 6:-1.0 7:-1.0 8:0.557252 9:1.0 10:-0.483871 11:-1.0 12:-1.0 13:1.0 \n" +
            "1.0 1:-0.0416667 2:1.0 3:-1.0 4:0.0943396 5:-0.214612 6:1.0 7:-1.0 8:0.633588 9:-1.0 10:-0.612903 12:-1.0 13:1.0 \n" +
            "1.0 1:-0.666667 2:1.0 3:0.333333 4:-0.320755 5:-0.43379 6:-1.0 7:-1.0 8:0.770992 9:-1.0 10:0.129032 11:1.0 12:-1.0 13:-1.0 \n" +
            "1.0 1:0.25 2:1.0 3:-1.0 4:0.433962 5:-0.260274 6:-1.0 7:1.0 8:0.343511 9:-1.0 10:-0.935484 12:-1.0 13:1.0 \n" +
            "1.0 1:-0.0833333 2:1.0 3:0.333333 4:-0.415094 5:-0.456621 6:1.0 7:1.0 8:0.450382 9:-1.0 10:-0.225806 12:-1.0 13:-1.0 \n" +
            "1.0 1:0.208333 2:1.0 3:1.0 4:-0.358491 5:-0.589041 6:-1.0 7:1.0 8:-0.0839695 9:1.0 10:-0.290323 12:1.0 13:1.0 \n" +
            "1.0 1:-1.0 2:1.0 3:-0.333333 4:-0.320755 5:-0.643836 6:-1.0 7:1.0 8:1.0 9:-1.0 10:-1.0 11:-1.0 12:-1.0 13:-1.0 \n" +
            "1.0 1:-0.5 2:-1.0 3:-0.333333 4:-0.320755 5:-0.643836 6:-1.0 7:1.0 8:0.541985 9:-1.0 10:-0.548387 11:-1.0 12:-1.0 13:-1.0 \n" +
            "0.23653018936590048 1:-0.0833333 2:1.0 3:0.333333 4:-1.0 5:-0.538813 6:-1.0 7:-1.0 8:0.267176 9:1.0 10:-1.0 11:-1.0 12:-0.333333 13:1.0 \n" +
            "1.0 1:0.416667 2:1.0 3:1.0 4:-0.320755 5:-0.0684932 6:1.0 7:1.0 8:-0.0687023 9:1.0 10:-0.419355 11:-1.0 12:1.0 13:1.0 \n" +
            "1.0 1:-0.75 2:-1.0 3:1.0 4:-0.169811 5:-0.739726 6:-1.0 7:-1.0 8:0.694656 9:-1.0 10:-0.548387 11:-1.0 12:-1.0 13:-1.0 \n" +
            "1.0 1:0.375 2:-1.0 3:0.333333 4:-0.320755 5:-0.374429 6:-1.0 7:-1.0 8:-0.603053 9:-1.0 10:-0.612903 12:-0.333333 13:1.0 \n" +
            "1.0 1:-0.416667 2:-1.0 3:1.0 4:-0.283019 5:-0.0182648 6:1.0 7:1.0 8:-0.00763359 9:1.0 10:-0.0322581 12:-1.0 13:1.0 \n" +
            "1.0 1:0.208333 2:-1.0 3:-1.0 4:0.0566038 5:-0.283105 6:1.0 7:1.0 8:0.389313 9:-1.0 10:-0.677419 11:-1.0 12:-1.0 13:-1.0 \n" +
            "1.0 1:-0.0416667 2:1.0 3:-1.0 4:-0.54717 5:-0.726027 6:-1.0 7:1.0 8:0.816794 9:-1.0 10:-1.0 12:-1.0 13:0.5 \n" +
            "1.0 1:0.333333 2:-1.0 3:1.0 4:-0.0377358 5:-0.173516 6:-1.0 7:1.0 8:0.145038 9:1.0 10:-0.677419 12:-1.0 13:1.0 \n" +
            "1.0 1:0.375 2:1.0 3:0.333333 4:-0.320755 5:-0.520548 6:-1.0 7:-1.0 8:0.145038 9:-1.0 10:-0.419355 12:1.0 13:1.0 \n" +
            "1.0 1:0.375 2:-1.0 3:1.0 4:0.245283 5:-0.826484 6:-1.0 7:1.0 8:0.129771 9:-1.0 10:1.0 11:1.0 12:1.0 13:1.0 \n" +
            "0.6908339650195751 1:-0.416667 2:1.0 3:1.0 4:-0.509434 5:-0.767123 6:-1.0 7:1.0 8:-0.251908 9:1.0 10:-0.193548 12:-1.0 13:1.0 \n" +
            "1.0 1:0.625 2:1.0 3:0.333333 4:0.622642 5:-0.324201 6:1.0 7:1.0 8:0.206107 9:1.0 10:-0.483871 12:-1.0 13:1.0 \n" +
            "1.0 1:0.375 2:-1.0 3:1.0 4:-0.132075 5:-0.351598 6:-1.0 7:1.0 8:0.358779 9:-1.0 10:0.16129 11:1.0 12:0.333333 13:-1.0 \n" +
            "1.0 1:0.25 2:1.0 3:0.333333 4:0.0566038 5:-0.607306 6:1.0 7:-1.0 8:0.312977 9:-1.0 10:-0.483871 11:-1.0 12:-1.0 13:-1.0 \n" +
            "1.0 1:0.75 2:-1.0 3:-0.333333 4:0.245283 5:-0.196347 6:-1.0 7:-1.0 8:0.389313 9:-1.0 10:-0.870968 11:-1.0 12:0.333333 13:-1.0 \n" +
            "1.0 1:0.333333 2:1.0 3:0.333333 4:0.0566038 5:-0.465753 6:1.0 7:-1.0 8:0.00763359 9:1.0 10:-0.677419 12:-1.0 13:-1.0 \n" +
            "1.0 1:-0.208333 2:1.0 3:-0.333333 4:-0.698113 5:-0.52968 6:-1.0 7:-1.0 8:0.480916 9:-1.0 10:-0.677419 11:1.0 12:-1.0 13:1.0 \n" +
            "1.0 1:-0.0416667 2:1.0 3:0.333333 4:0.471698 5:-0.666667 6:1.0 7:-1.0 8:0.389313 9:-1.0 10:-0.83871 11:-1.0 12:-1.0 13:1.0 \n" +
            "1.0 1:-0.375 2:1.0 3:-0.333333 4:-0.509434 5:-0.374429 6:-1.0 7:-1.0 8:0.557252 9:-1.0 10:-1.0 11:-1.0 12:-1.0 13:1.0 \n" +
            "1.0 1:0.583333 2:1.0 3:1.0 4:0.245283 5:-0.269406 6:-1.0 7:1.0 8:-0.435115 9:1.0 10:-0.516129 12:1.0 13:-1.0 ";

    @Test
    public void singleClassificationNodeTest() {
        Map<String, Object> paramMap = new HashMap<>();
        paramMap.put("inputKeys", "test1,test2,test3,test4,test5,test6,test7,test8,test9,test10,test11,test12,test13");
        paramMap.put("resultKey", "result");
        paramMap.put("svmType", 2); // One_Class
        paramMap.put("kernelType", 2);
        paramMap.put("gamma", 0.07692307692307693);
        paramMap.put("rho", 54.42568960398914);
        paramMap.put("sVectors", sv);
        Gson gson = new Gson();
        String paramStr = gson.toJson(paramMap);
        TaskNodeParam param = TaskNodeParam.create(paramStr);

        SingleClassificationNode svmNode = new SingleClassificationNode();
        svmNode.setParam(param);
        DataSet in = DataSet.create();
        DataSet.Record record = DataSet.Record.create("{" +
                "\"test13\":1.0," +
                "\"test12\":1.0," +
                "\"test10\":0.290323," +
                "\"label\":1.0," +
                "\"test1\":0.416667," +
                "\"test4\":0.0566038," +
                "\"test5\":0.283105," +
                "\"test2\":-1.0," +
                "\"test3\":1.0," +
                "\"test8\":0.267176," +
                "\"test9\":-1.0," +
                "\"test6\":-1.0," +
                "\"test7\":1.0," +
                "\"id\":10" +
                "}");
        in.addRecord(record);
        String[] key = "test1,test2,test3,test4,test5,test6,test7,test8,test9,test10,test11,test12,test13".split(",");
        List<String> inputkeys = Arrays.asList(key);
        String[] outkey = "result".split(",");
        List<String> outkeys = Arrays.asList(outkey);
        svmNode.calculate(in, inputkeys, outkeys);
        List<String> value = in.getValue("/records/result", List.class);
        Assert.assertEquals(-1.0, value.get(0));
    }
}


